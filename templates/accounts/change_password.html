{% extends "base/base.html" %}

{% block start %}
<div style="display: flex; justify-content: center; align-items: center; height: 90vh; background: #f8f9fa;">
    <div style="width: 400px; background: white; padding: 30px; border-radius: 12px; box-shadow: 0px 4px 15px rgba(0, 0, 0, 0.15);">
        <h2 style="text-align: center; color: #343a40; font-weight: bold;">Change Password</h2>
        <hr style="border: 1px solid #dee2e6; margin-bottom: 15px;">

    

        <!-- Password Guidelines -->
        <div style="background: #e9ecef; padding: 12px; border-radius: 8px; font-size: 14px; margin-bottom: 15px; color: #495057;">
            <strong>Password Requirements:</strong>
            <ul style="margin-top: 5px; padding-left: 20px;">
                <li>Must be at least <strong>8 characters</strong> long.</li>
                <li>Cannot be a <strong>commonly used password</strong>.</li>
                <li>Cannot be <strong>entirely numeric</strong>.</li>
            </ul>
        </div>

        <form method="POST">
            {% csrf_token %}
            
            <!-- Old Password -->
            <label for="old_password" style="font-weight: 600; color: #495057;">Old Password</label>
            <input type="password" name="old_password" required style="width: 100%; padding: 12px; margin-bottom: 5px; border: 1px solid #ced4da; border-radius: 8px; font-size: 14px;">
            {% if form.old_password.errors %}
                <div style="color: red; font-size: 13px; margin-bottom: 10px;">
                    {{ form.old_password.errors.0 }}
                </div>
            {% endif %}

            <!-- New Password -->
            <label for="new_password1" style="font-weight: 600; color: #495057;">New Password</label>
            <input type="password" name="new_password1" required style="width: 100%; padding: 12px; margin-bottom: 5px; border: 1px solid #ced4da; border-radius: 8px; font-size: 14px;">
            {% if form.new_password1.errors %}
                <div style="color: red; font-size: 13px; margin-bottom: 10px;">
                    {% for error in form.new_password1.errors %}
                        â€¢ {{ error }}<br>
                    {% endfor %}
                </div>
            {% endif %}

            <!-- Confirm New Password -->
            <label for="new_password2" style="font-weight: 600; color: #495057;">Confirm New Password</label>
            <input type="password" name="new_password2" required style="width: 100%; padding: 12px; margin-bottom: 5px; border: 1px solid #ced4da; border-radius: 8px; font-size: 14px;">
            {% if form.new_password2.errors %}
                <div style="color: red; font-size: 13px; margin-bottom: 10px;">
                    {{ form.new_password2.errors.0 }}
                </div>
            {% endif %}

            <!-- Submit Button -->
            <button type="submit" style="width: 100%; background: #007bff; color: white; padding: 12px; border: none; border-radius: 8px; font-size: 16px; font-weight: bold; cursor: pointer; transition: 0.3s;">
                Update Password
            </button>
            
            <a href="{% url 'profile' %}" style="display: block; text-align: center; margin-top: 15px; color: #007bff; font-weight: bold; text-decoration: none; transition: 0.3s;">
                Cancel
            </a>
        </form>
    </div>
</div>

<style>
    button:hover {
        background: #0056b3;
        transform: scale(1.02);
    }
    
    a:hover {
        text-decoration: underline;
        color: #0056b3;
    }
</style>

{% endblock %}
